---
title: CAF 企業級的安全性治理與合規性
description: 瞭解適用于 Azure 的 Microsoft Cloud 採用架構中企業級的安全性治理和合規性。
author: BrianBlanchard
ms.author: brblanch
ms.date: 06/15/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.openlocfilehash: a0543327e50ad50e4e3ada792999bc057c53e499
ms.sourcegitcommit: 71a4f33546443d8c875265ac8fbaf3ab24ae8ab4
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 07/20/2020
ms.locfileid: "86479444"
---
# <a name="caf-enterprise-scale-security-governance-and-compliance"></a>CAF 企業級的安全性治理與合規性

## <a name="define-encryption-and-key-management"></a>定義加密和金鑰管理

加密是確保資料在 Microsoft Azure 中的隱私權、合規性和資料存放區的重要步驟。 這也是許多企業最重要的安全性問題之一。 本節涵蓋與加密和金鑰管理相關的設計考慮和建議。

**設計考慮：**

- 適用于 Azure Key Vault 的訂用帳戶和規模限制： Key Vault 具有金鑰和密碼的交易限制。 若要在特定期間節流每個保存庫的交易，請參閱（[Azure 限制](https://docs.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits)）。

- Key Vault 會提供安全性界限，因為金鑰、秘密和憑證的存取權限是在保存庫層級。 Key Vault 存取原則指派會分別授與金鑰、秘密或憑證的許可權，但不支援細微、物件層級的許可權，例如特定金鑰、秘密或憑證（[金鑰管理](https://docs.microsoft.com/azure/security/fundamentals/data-encryption-best-practices)）。

- 您可以適當地隔離應用程式特定和工作負載特定的秘密和共用密碼（[控制存取權](https://docs.microsoft.com/azure/key-vault/general/best-practices)）。

<!-- cSpell:ignore FIPS -->

- 高階 Sku 可以優化，其中需要硬體安全性模組保護的金鑰。 基礎硬體安全模組（Hsm）符合 FIPS 140-2 level 2 規範。 適用于 FIPS 140-2 level 3 合規性的受控 Azure 專用 HSM，考慮支援的案例。

- 金鑰輪替和密碼到期。

  - 使用 Key Vault 的憑證採購和簽署（[關於憑證](https://docs.microsoft.com/azure/key-vault/certificates/about-certificates)）
  - 警示/通知和自動化憑證更新

- 金鑰、憑證和秘密的嚴重損壞修復需求。

  Key Vault 服務複寫和容錯移轉功能：（[可用性和冗余](https://docs.microsoft.com/azure/key-vault/general/disaster-recovery-guidance)）。

- 監視金鑰、憑證和秘密使用方式。

  使用金鑰保存庫或 Azure 監視器 Log Analytics 工作區來偵測未經授權的存取：（[監視和警示](https://docs.microsoft.com/azure/key-vault/general/alert)）

- 委派 Key Vault 具現化和特殊許可權存取：（[安全存取](https://docs.microsoft.com/azure/key-vault/general/secure-your-key-vault)）

- 針對原生加密機制（例如 Azure 儲存體加密（SSE））使用客戶管理金鑰的需求：
  - [客戶管理的金鑰](https://docs.microsoft.com/azure/storage/common/storage-encryption-keys-portal)。
  - 虛擬機器（Vm）的整磁片加密。
  - 資料傳輸中加密。
  - 待用資料加密。

**設計建議：**

- 使用同盟 Azure Key Vault 模型來避免交易規模限制。

- 布建 Azure Key Vault 已啟用虛刪除和清除原則，以允許已刪除物件的保留保護。

- 藉由限制授權將金鑰、秘密和憑證永久刪除至特定的自訂 Azure Active Directory 角色，以遵循最低許可權模型。

- 使用公開憑證授權單位單位來自動化憑證管理和更新程式，以簡化系統管理。

- 建立金鑰和憑證輪替的自動化程式。

- 啟用保存庫上的防火牆和虛擬網路服務端點，以控制金鑰保存庫的存取權。

- 使用平臺中心 Azure 監視器 Log Analytics 工作區，來審核每個 Key Vault 實例內的金鑰、憑證和秘密使用方式。

- 使用 Azure 原則來強制執行一致的相容性設定，以委派 Key Vault 具現化和特殊許可權存取。

- 預設為 Microsoft 管理的主要加密功能金鑰，並在必要時使用客戶管理的金鑰。

- 請勿將集中式 Key Vault 實例用於應用程式金鑰或密碼。

- 請勿在應用程式之間共用 Key Vault 的實例，以避免跨環境共用秘密。

## <a name="planning-for-governance"></a>治理規劃

治理提供多項機制和流程，以便維持控制 Azure 中的應用程式與資源。 Azure 原則對於確保企業技術資產內的安全性和合規性而言，是不可或缺的。 它可以在 Azure 平臺服務中強制執行重要的管理和安全性慣例，以及補充角色型存取控制，以控制授權使用者可以執行的動作。

**設計考慮：**

- 判斷所需的 Azure 原則

- 強制執行管理和安全性慣例，例如使用私用端點

- 若要管理和建立原則指派，可以在多個繼承的指派範圍中重複使用原則定義。 在管理群組、訂用帳戶和資源群組範圍中，可以有集中式的基準原則指派。

- 合規性報告和審核以確保持續相容性

- Azure 原則有限制，例如任何指定範圍的定義限制：（[原則限制](https://docs.microsoft.com/azure/azure-resource-manager/management/azure-subscription-service-limits)）

- 法規合規性政策，例如醫療保險流通與責任法案、支付卡產業（PCI）、資料安全性標準、服務組織控制（SOC）信任服務主體，以及準則。

**設計建議：**

- 識別所需的 Azure 標記，並使用 [附加原則] 模式來強制使用

- 將法規與合規性需求對應至 Azure 原則定義，並 Azure AD 角色型存取控制指派

- 在最上層根管理群組建立 Azure 原則定義，以便在繼承的範圍中指派

- 如有需要，請在最高的適當層級管理具有最低需求的原則指派

- 使用 Azure 原則來控制訂用帳戶和/或管理群組層級的資源提供者註冊

- 盡可能使用內建原則來將作業額外負荷降至最低

- 在指定的範圍指派內建原則參與者角色，以啟用應用層級的治理

- 限制在根管理群組範圍進行的 Azure 原則指派數目，以避免透過繼承範圍的排除專案進行管理

## <a name="define-security-monitoring-and-an-audit-policy"></a>定義安全性監視和稽核原則

企業必須能夠看到其技術雲端資產中發生的狀況，這是很重要的。 Azure 平臺服務的安全性監視和審核記錄是可擴充架構的重要元件。

**設計考慮：**

- 審核資料的資料保留期間;Azure AD 報表（premium）有30天的保留期

- 記錄的長期封存，例如 Azure 活動記錄、VM 記錄檔和平臺即服務（PaaS）記錄

- 透過 Azure 來賓內部 VM 原則進行基準安全性設定

- 重大弱點的緊急修補

- 修補離線一段時間的 Vm

- 即時監視和警示的需求

- 安全性資訊和事件管理與 Azure 資訊安全中心和 sentinel 的整合

- Vm 的弱點評估

**設計建議：**

- 使用 Azure AD 報告功能來產生存取控制審查報告

- 將 Azure 活動記錄匯出至 Azure 監視器記錄以進行長期資料保留，並匯出至超過兩年的長期儲存 Azure 儲存體（如有需要）

- 使用 Azure 原則確保合規性，為所有訂用帳戶啟用資訊安全中心（標準 SKU）

- 透過 Azure 監視器記錄和 Azure 資訊安全中心監視基底 OS 修補漂移

- 使用 Azure 原則透過 VM 延伸模組自動部署軟體設定，並強制執行符合規範的基準 VM 設定

- 透過 Azure 原則監視 VM 安全性設定漂移

- 將預設資源設定連線至集中式 Azure 監視器 Log Analytics 工作區

- 使用事件方格型解決方案進行記錄導向即時警示

## <a name="plan-for-platform-security"></a>為平臺安全性做規劃

當您採用 Azure 時，必須維持狀況良好的安全性狀態。 除了可見度以外，您還必須能夠在 Azure 服務演進時控制初始設定和變更。 因此，規劃平臺安全性是關鍵。

**設計考慮：**

- 共同責任

- 高可用性和災害復原

- 在資料管理和控制平面作業方面，跨 Azure 服務保持一致的安全性

- 主要平臺元件的多組織使用者管理，從 Hyper-v 和 Hsm 底層 Key Vault 到資料庫引擎

**設計建議：**

- 每個必要服務的共同檢查應該在您的基礎需求內容中進行。 如果您想要攜帶自己的金鑰，則可能不會在所有被視為的服務中受到支援。 必須實行相關的緩和措施，這樣不一致就不會妨礙所需的結果。 選擇適當的區域配對和損毀修復區域，以將延遲降至最低。

- 開發安全性允許清單的計畫，以評估服務的安全性設定、監視、警示，以及如何將其與現有的系統整合。

- 在允許之前，請先判斷 Azure 服務的事件回應計畫。

- 使用 Azure AD 報告功能來產生存取控制審查報告。

- 配合您的安全性需求與 Azure 平臺藍圖，隨時掌握最新發行的安全性控制。

- 在適當的情況下，為 Azure 平臺的存取權執行零信任的方法。

<!-- docsTest:ignore "and conditional access" -->

## <a name="service-enablement-framework"></a>服務啟用架構

當業務單位要求將工作負載部署至 Azure 時，需要額外的工作負載可見度，才能判斷如何達成適當的控管、安全性和合規性層級。 當需要的新服務尚未上架時，就必須允許服務發生。 下表提供的架構可評估 Azure 服務的企業安全性就緒程度：

| 評量                    | 類別                                                              | 準則                                                                                                                                     |
|------------------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| 安全性                     | 網路端點                                                      | 服務是否有可從虛擬網路外部存取的公用端點？                                                                |
|                              |                                                                       | 它是否支援虛擬網路服務端點？                                                                                                      |
|                              |                                                                       | Azure 服務可以直接與服務端點互動嗎？                                                                              |
|                              |                                                                       | 它是否支援私人連結端點？                                                                                                           |
|                              |                                                                       | 它可以部署在虛擬網路內嗎？                                                                                                            |
|                              | 預防資料外洩                                          | PaaS 服務在 ExpressRoute Microsoft 對等互連中有個別的邊界閘道通訊協定群體嗎？ （換句話說，er 是否會公開服務的路由篩選？） |
|                              |                                                                       | 服務是否支援私人連結端點？                                                                                                       |
|                              | 針對管理和資料平面作業強制執行網路流量流程 | 是否可以檢查輸入/離開服務的流量？ 是否可以使用使用者定義的路由來強制 tunnelled 流量？                                    |
|                              |                                                                       | 管理作業會使用 Azure 共用公用 IP 範圍嗎？                                                                                 |
|                              |                                                                       | 管理流量是透過主機上公開的連結-本機端點來導向嗎？                                                                |
|                              | 待用資料加密                                               | 預設會套用加密嗎？                                                                                                            |
|                              |                                                                       | 可以停用加密嗎？                                                                                                                  |
|                              |                                                                       | 是否使用 Microsoft 管理的金鑰或客戶管理的金鑰來執行加密？                                                   |
|                              | 傳輸中的資料加密                                            | 服務的流量是以通訊協定層級加密（安全通訊端層/傳輸層安全性）嗎？                                                                           |
|                              |                                                                       | 是否有任何 HTTP 端點，而且是否可以停用？                                                                                        |
|                              |                                                                       | 基礎服務通訊是否也會加密？                                                                                          |
|                              |                                                                       | 是使用 Microsoft 管理的金鑰或客戶管理的金鑰來執行加密嗎？ （是否支援自備加密？）                                                                               |
|                              | 軟體部署                                                   | 可以將應用程式軟體或協力廠商產品部署至服務嗎？                                                                 |
|                              |                                                                       | 如何執行及管理軟體部署？                                                                                            |
|                              |                                                                       | 是否可以強制執行原則來控制來源或程式碼完整性？                                                                                   |
|                              |                                                                       | 如果軟體可部署，是否可以使用反惡意程式碼、弱點管理和安全性監視工具？                                  |
|                              |                                                                       | 服務原本就提供這類功能嗎？ （例如，AKS）                                                                              |
| 身分識別和存取管理 | 驗證和存取控制                                       | 所有控制平面作業都受 Azure AD 控管嗎？ （換句話說，是否有像是 Kubernetes 的嵌套控制平面？）                             |
|                              |                                                                       | 有哪些方法可提供資料平面的存取權？                                                                                      |
|                              |                                                                       | 資料平面是否與 Azure AD 整合？                                                                                                      |
|                              |                                                                       | Azure 至 Azure （服務對服務）驗證是否使用 MSI/服務主體？                                                         |
|                              |                                                                       | Azure 對 IaaS （服務對虛擬網路）的驗證是否透過 Azure AD？                                                                                   |
|                              |                                                                       | 如何管理任何適用的金鑰/SAS？                                                                                                     |
|                              |                                                                       | 如何撤銷存取權？                                                                                                                   |
|                              | 責任隔離                                                 | 服務是否會在 Azure AD 內區分控制平面和資料平面作業？                                                                |
|                              | 多重要素驗證和條件式存取                                            | 是否強制執行多重要素驗證以進行使用者對服務的互動？                                                                                            |
| 控管                   | 資料匯出和匯入                                                  | 服務是否可讓您安全地匯入和匯出資料？                                                                     |
|                              | 資料隱私權和使用方式                                                  | Microsoft 工程師可以存取資料嗎？                                                                                                     |
|                              |                                                                       | 是否有任何 Microsoft 支援服務與服務互動的情況？                                                                               |
|                              | 資料存留處                                                        | 是否包含服務部署區域的資料？                                                                                          |
| 作業                   | 監視                                                            | 服務是否與 Azure 監視器整合？                                                                                               |
|                              | 備份管理                                                     | 需要備份哪些工作負載資料？                                                                                                       |
|                              |                                                                       | 如何捕捉備份？                                                                                                                    |
|                              |                                                                       | 可以執行備份的頻率為何？                                                                                                         |
|                              |                                                                       | 備份可以保留多久？                                                                                                        |
|                              |                                                                       | 備份經過加密？                                                                                                                       |
|                              |                                                                       | 是使用 Microsoft 管理的金鑰或客戶管理的金鑰來執行備份加密嗎？                                                                                             |
|                              | 災害復原                                                     | 如何以區域冗余的方式使用服務？                                                                                 |
|                              |                                                                       | 什麼是可達到的 RTO 和 RPO？                                                                                                          |
|                              | SKU                                                                   | 有哪些 Sku 可供使用？ 而且它們有何不同？                                                                                             |
|                              |                                                                       | Premium SKU 的安全性是否有任何相關功能？                                                                                  |
|                              | 容量管理                                                   | 如何監視容量？                                                                                                                   |
|                              |                                                                       | 水準調整的單位是什麼？                                                                                                        |
|                              | 修補和更新管理                                             | 服務是否需要修補，或服務是否已將它抽象化？                                                                        |
|                              |                                                                       | 套用修補程式的頻率為何，而且可以自動化？                                                                                |
|                              | 稽核                                                                 | 是否已捕捉到嵌套的控制平面作業（例如，AKS 或 Azure Databricks）？                                                                      |
|                              |                                                                       | 是否已記錄重要資料平面活動？                                                                                                      |
|                              | 設定管理                                              | 它是否支援標記並提供 `put` 所有資源的架構？                                                                             |
| Azure 服務合規性     | 服務證明、認證和外部審核                | 服務 PCI/ISO/SOC 相容嗎？                                                                                                        |
|                              | 服務可用性                                                  | 服務私人預覽/公開預覽/ga？                                                                                            |
|                              |                                                                       | 在哪些區域中，服務可供使用？                                                                                                    |
|                              |                                                                       | 服務的部署範圍為何？ （換句話說，它是區域或全域服務嗎？）                                                      |
|                              | 服務等級協定（Sla）                                              | 服務可用性的 SLA 為何？                                                                                                    |
|                              |                                                                       | 如果適用的話，效能的 SLA 為何？                                                                                              |
