---
title: 加密決策指南
description: 執行加密原則，這是 Azure 移轉中的核心服務，可為您的雲端式工作負載和資料提供額外的安全性層級。
author: rotycenh
ms.author: abuck
ms.date: 02/11/2019
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: decision-guide
ms.custom: governance
ms.openlocfilehash: b43c20579bceb855c77adb3b4e7919254fa50d5a
ms.sourcegitcommit: 949b87bad28d32df84df190160089f01826f3a31
ms.translationtype: HT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/13/2020
ms.locfileid: "88196148"
---
<!-- cSpell:ignore BYOK -->

# <a name="encryption-decision-guide"></a>加密決策指南

將資料加密可防止資料遭到未經授權存取。 正確實作的加密原則能夠為雲端式工作負載提供額外的安全性，並抵禦來自組織和網路內外的攻擊者與其他未經授權的使用者。

跳至：[金鑰管理](#key-management) | [資料加密](#data-encryption) | [進一步瞭解](#learn-more)

雲端加密策略的重點在於公司政策和合規性要求。 需要加密資源，並且許多 Azure 服務 (例如 Azure 儲存體和 Azure SQL Database) 預設會啟用加密。 但是加密有可能會增加延遲和整體資源使用量的成本。

對於需要大量資源的工作負載，在加密與效能之間取得適當的平衡點，並判斷加密資料與流量的方式是必要的。 加密機制的成本與複雜度各不相同，技術和原則需求都會影響您對套用加密的方式，以及儲存和管理關鍵密碼和金鑰之方式的決策。

公司政策和第三方合規性是規劃加密策略時最重要的考量事項。 Azure 提供了多種標準機制，可以滿足加密資料的常見需求，無論是待用還是傳輸中。 對於要求更嚴格控制的政策與合規性需求 (例如標準化的祕密和金鑰管理、使用中的加密，或資料特定加密)，您將需要開發更複雜的加密策略來支援這些需求。

## <a name="key-management"></a>金鑰管理

雲端中的資料加密取決於安全的儲存體、管理和加密金鑰的操作使用。 組織必須擁有金鑰管理系統，以具備建立、儲存與管理加密金鑰，還有重要密碼、連線字串，以及其他 IT 機密資訊的能力。

新式金鑰管理系統 (例如 Azure Key Vault) 支援儲存和管理軟體保護的開發人員金鑰，並測試使用情況和硬體安全性模組 (HSM) 保護的金鑰，以最大限度地保護生產工作負載或機密資料。

規劃雲端移轉作業時，以下表格可協助您決定儲存及管理加密金鑰、憑證和祕密的方式，這對於建立安全和可管理雲端部署而言非常重要：

| 問題 | 雲端原生 | 攜帶您自己的金鑰 | 保存您自己的金鑰 |
|--- |--------------|--------|-------------|
| 您的組織是否缺乏集中管理金鑰和祕密的能力？                                                                    | 是          | 否     | 否          |
| 您是否需要制訂規則，以限制建立可同時在內部部署硬體裝置和雲端使用的金鑰和秘密？ | 否           | 是    | 否          |
| 您的組織是否已制訂規則或原則以防止在異地儲存金鑰？                | 否           | 否     | 是         |

### <a name="cloud-native"></a>雲端原生

具備雲端原生金鑰管理能力之後，就能在雲端保存庫 (例如 Azure Key Vault) 中產生、管理及儲存所有金鑰和祕密。 此方法可簡化許多和金鑰管理有關的 IT 工作，例如金鑰備份、儲存與更新。

**雲端原生假設事項：** 使用雲端原生金鑰管理系統時會包括這些假設事項：

- 您信任並使用雲端金鑰管理解決方案建立、管理及裝載您組織的密與金鑰。
- 您允許需要存取加密服務或秘密的所有內部部署應用程式和服務存取雲端金鑰管理系統。

### <a name="bring-your-own-key-byok"></a>自備金鑰 (BYOK)

採用 BYOK 方法，您可以在內部部署環境內的專用 HSM 硬體上產生金鑰，然後將這些金鑰安全地傳輸到雲端式管理系統 (例如 Azure Key Vault)，以便與裝載在雲端的資源搭配使用。

**攜帶您自己的金鑰假設：** 在內部部署產生金鑰並將其與雲端式金鑰管理系統一起使用，包含以下假設事項：

- 您信任並採用雲端平台的基礎安全性和存取控制基礎結構裝載及使用您的金鑰和祕密。
- 您的雲端裝載應用程式或服務能夠以強固且安全的方式存取和使用金鑰和祕密。
- 您因為法規或管理原則的限制，必須在內部部署系統中建立及管理組織的秘密和金鑰。

### <a name="on-premises-hold-your-own-key"></a>內部部署 (保存您自己的金鑰)

某些情況可能會因為法規、原則技術原因的限制，而無法將金鑰儲存在雲端式金鑰管理系統中。 在這種情況下，您必須使用內部部署硬體產生金鑰、使用內部部署金鑰管理系統來儲存和管理金鑰，並建立可讓雲端資源存取這些金鑰以用於加密的方式。 請注意，保留您自己金鑰的方法可能並未與所有以 Azure 為基礎的服務相容。

**內部部署金鑰管理假設事項：** 使用內部部署金鑰管理系統時會包含以下假設事項：

- 您因為法規或管理原則的限制，必須在內部部署系統中建立、管理及裝載組織的秘密和金鑰。
- 需要存取加密服務或秘密的任何雲端應用程式或服務都能存取內部部署金鑰管理系統。

## <a name="data-encryption"></a>資料加密

規劃加密原則時，考量具有不同加密需求的幾個不同資料狀態：

| 資料狀態 | 資料 |
|-----|-----|
| 資料傳輸中 | 內部網路流量、網際網路連線、資料中心或虛擬網路之間的連線 |
| 待用資料    | 資料庫、檔案、虛擬磁碟機、PaaS 儲存體 |
| 資料使用中     | 資料已載入至 RAM 或 CPU 快取中 |

### <a name="data-in-transit"></a>資料傳輸中

資料傳輸中代表資料正在內部資源之間、在資料中心或外部網路之間，或在網際網路上移動。

傳輸中資料的加密通常是透過要求網路流量所需的 SSL/TLS 通訊協定來完成。 雲端託管資源與外部網路或公用網際網路之間的流量應一律加密。 根據預設，PaaS 資源通常會強制執行 SSL/TLS 加密。 針對虛擬網路內部所裝載 IaaS 資源之間的流量，您的雲端採用小組和工作負載擁有者應考慮對其進行強制加密。

**加密傳輸中資料時的假設事項：** 實作傳輸中資料的適當加密原則時會假設以下事項：

- 您雲端環境中所有可公開存取的端點都將使用 SSL/TLS 通訊協定與公用網際網路通訊。
- 透過公用網際網路連線雲端網路與內部部署或其他外部網路時，會使用加密的 VPN 通訊協定。
- 使用專用 WAN 連線 (例如 ExpressRoute) 連線雲端網路與內部部署或其他外部網路時，您會將 VPN 或內部部署的其他加密設備，與雲端網路中部署的相對應虛擬 VPN 或加密設備搭配使用。
- 如果您有機密資料不應包含在 IT 人員可檢視的流量記錄或其他診斷報告中，您會將虛擬網路中資源之間的所有流量加密。

### <a name="data-at-rest"></a>待用資料

待用資料代表目前未移動或處理的任額資料，包括檔案、資料庫、虛擬機器磁碟機、PaaS 儲存體帳戶，或類似的資產。 加密儲存的資料可保護虛擬裝置或檔案，避免遭到外部網路入侵、惡意的內部使用者，或意外發布之類的未經授權存取。

PaaS 儲存體與資料庫資源通常會預設強制加密。 可以透過加密虛擬磁碟層級的資料或加密裝載虛擬磁碟機的整個儲存體帳戶來保護 IaaS 資源。 所有這些資產都可以使用儲存在 Azure Key Vault 中且由 Microsoft 管理的金鑰或由客戶管理的金鑰。

將待用資料加密也涉及更高階的資料庫加密技術，例如資料行層級和資料列層級加密，讓您可以更準確地控制那些資料需受到保護。

您的整體原則和合規性需求、所儲存資料的機密度，以及工作負載的效能需求，應該會決定哪些資產需要加密。

### <a name="assumptions-about-encrypting-data-at-rest"></a>加密待用資料時的假設事項

加密待用資料時會假設以下事項：

- 您儲存的資料並不是提供給公眾使用的資料。
- 您的工作負載可以接受因磁碟加密而增加的延遲成本。

### <a name="data-in-use"></a>資料使用中

加密使用中的資料涉及保護非永久性儲存體 (例如 RAM 或 CPU 快取) 中的資料。 使用像是完整記憶體加密和記憶體保護區技術 (例如 Intel 的安全防護擴充功能 (SGX)) 這樣的技術。 這也包括密碼編譯技術，例如可用來建立安全、受信任執行環境的同態加密技術。

**加密使用中資料時的假設事項：** 加密使用中資料時會假設以下事項：

- 您隨時都需要個別維護資料擁有權與基礎雲端平台，即使在 RAM 與 CPU 層級也一樣。

## <a name="learn-more"></a>深入了解

如需 Azure 中加密和金鑰管理的相關詳細資訊，請參閱：

- **[Azure 加密概觀](https://docs.microsoft.com/azure/security/fundamentals/encryption-overview)：** Azure 如何使用加密來保護待用和傳輸中資料的詳細描述。
- **[Azure Key Vault](https://docs.microsoft.com/azure/key-vault/general/overview)：** 金鑰保存庫是 Azure 內儲存及管理密碼編譯金鑰、祕密和憑證的主要金鑰管理系統。
- **[Azure 資料安全性和加密最佳做法](https://docs.microsoft.com/azure/security/fundamentals/data-encryption-best-practices)。** Azure 資料安全性和加密最佳做法的討論。
- **[Azure 中的機密運算](https://azure.microsoft.com/solutions/confidential-compute)：** Azure 的機密運算方案提供了工具和技術，用來建立受信任的執行環境或其他加密機制，以保護使用中的資料。

## <a name="next-steps"></a>後續步驟

加密只是在雲端採用程序期間需要架構決策的其中一個核心基礎結構元件。 若要了解在為其他類型的基礎結構制定設計決策時使用的替代模式或模型，請參閱架構決策指南概觀。

> [!div class="nextstepaction"]
> [架構相關決策指南概觀](../index.md)
